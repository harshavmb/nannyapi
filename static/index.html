<!DOCTYPE html>
<html>

<head>
    <!-- filepath: /home/harsha/github-projects/nannyapi/static/index.html -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="container mt-5">
        <h1 class="text-center">NannyAPI Frontend</h1>
        <div id="login-section" class="text-center mt-4" {{if .User.Name}}style="display:none;" {{end}}>
            <button id="login-button" class="btn btn-primary">
                <i class="fab fa-github"></i> Login with GitHub
            </button>
        </div>
        <div id="profile-section" class="mt-4" {{if not .User.Name}}style="display:none;" {{end}}>
            <h1>Welcome <span id="userName">{{.User.Name}}</span>!</h1>
            <img id="userAvatar" src="{{.User.AvatarURL}}" alt="User Avatar" width="50" height="50">
            <h2>GitHub Profile</h2>
            <p id="profile-info"></p>
            <a id="profile-link" href="#" target="_blank" class="btn btn-info">View GitHub Profile</a>
            <button id="logout-button" class="btn btn-danger mt-2">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>

            {{if .AuthToken}}
            <p>Auth Token: {{.AuthToken.Token}} created at: {{.AuthToken.CreatedAt}}</p>
            {{else}}
            <p>No auth tokens found. Create one now.</p>
            {{end}}
            <form action="/create-auth-token" method="post">
                <button type="submit" class="btn btn-success mt-2">Create Auth Token</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/static/js/scripts.js"></script>
</body>

</html>